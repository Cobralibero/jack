diff --git a/main/enigma.cpp b/main/enigma.cpp
index 0f1562752..15d7971a9 100644
--- a/main/enigma.cpp
+++ b/main/enigma.cpp
@@ -354,6 +354,6 @@ const char *getBoxType()
 
 void dump_malloc_stats(void)
 {
-	struct mallinfo mi = mallinfo();
+	struct mallinfo2 mi = mallinfo2();
 	eDebug("MALLOC: %d total", mi.uordblks);
 }
